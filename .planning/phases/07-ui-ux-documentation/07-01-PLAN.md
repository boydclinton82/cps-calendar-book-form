---
phase: 07-ui-ux-documentation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/phases/07-ui-ux-documentation/LAYOUT-STRUCTURE.md
  - .planning/phases/07-ui-ux-documentation/DESIGN-TOKENS.md
autonomous: true

must_haves:
  truths:
    - "Layout hierarchy documents every visible region (header, calendar grid, time strip, booking panel, popup overlay, week view)"
    - "Every CSS custom property from index.css is extracted with semantic name, hex value, RGB value, and usage context"
    - "Typography system documents all font families, sizes, weights, and where each is used"
    - "Spacing system documents all padding/margin/gap values used across components"
    - "Timing tokens document transition durations and easing functions"
    - "Each token references its CSS source file and line number"
  artifacts:
    - path: ".planning/phases/07-ui-ux-documentation/LAYOUT-STRUCTURE.md"
      provides: "Complete layout hierarchy with component containment, positioning, and z-index layering"
      min_lines: 100
    - path: ".planning/phases/07-ui-ux-documentation/DESIGN-TOKENS.md"
      provides: "Exhaustive design token reference (colors, typography, spacing, timing) with source references"
      min_lines: 150
  key_links:
    - from: "LAYOUT-STRUCTURE.md"
      to: "Phase 5 screenshots"
      via: "Screenshot references for each layout region"
      pattern: "screenshots/"
    - from: "DESIGN-TOKENS.md"
      to: "extracted-code/src/index.css"
      via: "CSS custom property extraction"
      pattern: "--"
---

<objective>
Create the foundational UI specification documents: layout structure hierarchy and design token reference.

Purpose: These two documents establish the vocabulary and spatial framework that all other UI/UX docs reference. Layout structure tells the Rails developer WHERE things go. Design tokens tell them WHAT visual values to use. Without these, component state docs and animation docs lack anchoring.

Output: LAYOUT-STRUCTURE.md and DESIGN-TOKENS.md in the phase directory.
</objective>

<execution_context>
@/Users/clintonweekes/.claude/get-shit-done/workflows/execute-plan.md
@/Users/clintonweekes/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-ui-ux-documentation/07-RESEARCH.md
@.planning/phases/05-visual-capture/SCREENSHOT-MANIFEST.md
@.planning/phases/06-code-extraction/FILE-MANIFEST.md
@.planning/phases/06-code-extraction/extracted-code/src/index.css
@.planning/phases/06-code-extraction/extracted-code/src/components/Header.css
@.planning/phases/06-code-extraction/extracted-code/src/components/TimeSlot.css
@.planning/phases/06-code-extraction/extracted-code/src/components/TimeStrip.css
@.planning/phases/06-code-extraction/extracted-code/src/components/BookingPanel.css
@.planning/phases/06-code-extraction/extracted-code/src/components/BookingPopup.css
@.planning/phases/06-code-extraction/extracted-code/src/components/BookingBlock.css
@.planning/phases/06-code-extraction/extracted-code/src/components/BookingOverlay.css
@.planning/phases/06-code-extraction/extracted-code/src/components/WeekView.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create LAYOUT-STRUCTURE.md</name>
  <files>.planning/phases/07-ui-ux-documentation/LAYOUT-STRUCTURE.md</files>
  <action>
Create a comprehensive layout structure document that maps the complete spatial hierarchy of the booking form. This is a SYNTHESIS task -- combine Phase 5 screenshots (visual truth) with Phase 6 CSS files (implementation truth) into a structured specification.

**Document structure:**

1. **Page Layout Overview** -- Full page structure: flex column, min-height 100vh, background gradient. Reference screenshot 01-initial-states/000-initial-load.png.

2. **Component Hierarchy Tree** -- ASCII tree showing containment:
   ```
   App
   ├── Header
   │   ├── header-top (title + actions)
   │   │   ├── header-title (with glowing underline)
   │   │   └── header-actions (Book Now, Week Toggle, Timezone Toggle)
   │   ├── header-nav (prev/next buttons + date display)
   │   └── header-hints (keyboard shortcut bar)
   ├── TimeStrip (day view) OR WeekView (week view)
   │   └── slots-container (relative positioned for overlay)
   │       ├── TimeSlot (x16, one per hour 6AM-10PM)
   │       └── BookingOverlay
   │           └── BookingBlock (one per booking, absolutely positioned)
   ├── BookingPanel (fixed, right side, slides in)
   └── BookingPopup (fixed, centered, modal overlay)
   ```

3. **Component Layout Details** -- For each major component, document:
   - CSS positioning strategy (fixed, absolute, relative, flex, grid)
   - Dimensions (width, height, padding, gaps)
   - Z-index layering (BookingPanel: 100, BookingPopup overlay: 200, popup content: 201)
   - Containment relationship (what's inside what)
   - Screenshot reference showing the component

4. **Layout Regions** -- Document the 5 distinct layout regions:
   - Header region (transparent bg, 16px 32px padding)
   - Calendar/time grid region (centered, 360px fixed width in day view)
   - Booking panel region (fixed right, 340px wide, full height, glass bg)
   - Popup overlay region (fixed full viewport, centered 340px popup)
   - Week view region (full width grid, 8 columns: time + 7 days)

5. **Day View vs Week View** -- Document the two primary layouts:
   - Day view: centered TimeStrip (360px) with stacked slots (6px gap, 36px height each)
   - Week view: grid layout (70px time column + 7 equal day columns, 4px gaps)
   - Toggle mechanism: [W] key or button switches between views

6. **Overlay System** -- Document how bookings overlay time slots:
   - BookingOverlay: absolute positioned within slots-container
   - BookingBlock: absolute positioned, spans slot heights based on duration
   - Pointer-events: overlay is pointer-events:none, blocks are pointer-events:auto
   - Occupied slots: transparent background, hidden time labels (overlay shows booking)

**Critical details to include:**
- Glass morphism effect: backdrop-filter: blur(20px) on panel and popup
- Fixed positioning for panel (right: 0) and popup (centered with transform)
- Body scroll lock when modal open (body.modal-open)
- All CSS source file references (e.g., "Source: TimeStrip.css:1-16")
- Screenshot references for each region (e.g., "Screenshot: 01-initial-states/002-date-selected-with-panel.png")

**Technology-neutral language:** Describe layout in terms of "fixed side panel", "centered modal overlay", "stacked vertical list" -- not React component names. Include React component names only as cross-references to Phase 6 extracted code.
  </action>
  <verify>
Verify the document:
1. Grep for "Screenshot:" -- must have at least 5 screenshot references
2. Grep for "Source:" -- must have at least 8 CSS source references
3. Grep for "z-index" -- must document z-index layering (100, 200, 201)
4. Grep for "360px" or "340px" -- must document key dimensions
5. Verify line count is >= 100 lines
  </verify>
  <done>
LAYOUT-STRUCTURE.md exists with: component hierarchy tree, all 5 layout regions documented, day/week view layouts, overlay system, z-index layering, glass morphism effects, screenshot references for each region, and CSS source references for all dimensions.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create DESIGN-TOKENS.md</name>
  <files>.planning/phases/07-ui-ux-documentation/DESIGN-TOKENS.md</files>
  <action>
Create an exhaustive design token reference extracted from the CSS source files. Every visual value a Rails developer needs to recreate the interface's look and feel.

**Document structure:**

1. **Color System** -- Extract ALL CSS custom properties from index.css:

   **Background Colors:**
   | Token | Hex | RGB | Usage | Source |
   |-------|-----|-----|-------|--------|
   | --bg-primary | #0a1628 | 10, 22, 40 | Main app background, dark text on accent elements | index.css:3 |
   | --bg-secondary | #0f1d32 | 15, 29, 50 | Scrollbar track, part of gradient | index.css:4 |
   | --bg-tertiary | #152238 | 21, 34, 56 | Option buttons default bg, kbd elements, column headers | index.css:5 |
   | --bg-card | rgba(15, 29, 50, 0.7) | 15, 29, 50, 70% | Card backgrounds (translucent) | index.css:6 |

   **Accent Colors:**
   | --accent | #00E5E5 | Available slots, borders, buttons, primary interactive | index.css:9 |
   | --accent-dim | #00b8b8 | Subdued variant, gradient endpoints | index.css:10 |
   | --accent-glow | rgba(0,229,229,0.4) | Box-shadow glow effects (medium) | index.css:11 |
   | --accent-glow-strong | rgba(0,229,229,0.6) | Box-shadow glow effects (strong) | index.css:12 |

   **Slot State Colors:**
   | --available | #00E5E5 | Available slot border/label | index.css:15 |
   | --available-hover | #00ffff | Hovered available slot | index.css:16 |
   | --booked | #dc2626 | Booked slot indicator, delete button accents | index.css:17 |
   | --booked-own | #3b82f6 | User's own bookings (blue) | index.css:18 |
   | --past | #1e3a5f | Past slot background | index.css:19 |

   **User Colors (position-based, supports 6 users):**
   Document all 6 user color pairs (--user-N-color and --user-N-rgb) with their hex, RGB, and which position they represent.

   **Text Colors:**
   | --text-primary | #f0f6fc | Main body text, headings | index.css:48 |
   | --text-secondary | #7d8fa3 | Section titles, hints, secondary text | index.css:49 |
   | --text-muted | #4a5d75 | Hint separators, subtle text | index.css:50 |

   **Border Colors:**
   | --border-subtle | rgba(0,229,229,0.15) | Panel borders, cancel button | index.css:53 |
   | --border-glow | rgba(0,229,229,0.3) | Hover state borders | index.css:54 |

   **Glass Effect:**
   | --glass-bg | rgba(15,29,50,0.6) | Panel/popup/hints background | index.css:57 |
   | --glass-border | rgba(0,229,229,0.2) | Glass container borders | index.css:58 |

   **Special Colors (not in :root, found in component CSS):**
   - Keyboard focus: #fbbf24 (gold/amber) -- TimeSlot.css:106
   - Delete hover text: #f87171 (light red) -- BookingPanel.css:138, BookingPopup.css
   - Popup overlay backdrop: rgba(0,0,0,0.6) -- BookingPopup.css:8
   - Current day column bg: var(--accent) at 0.08 opacity -- WeekView.css:72-76

2. **Typography System:**

   **Font Families:**
   | Name | Stack | Usage | Source |
   |------|-------|-------|--------|
   | Primary | 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif | Body text, headings, labels | index.css:72 |
   | Monospace | 'JetBrains Mono', 'Fira Code', monospace | Time displays, keyboard shortcuts, booking block text | index.css:89-91 (via .mono class) |

   **Font Sizes (document every distinct size used):**
   1.75rem -- panel/popup time display (large accent)
   1.5rem -- header title
   1.25rem -- date text
   1.2rem -- panel/popup title
   1.1rem -- day date in week view
   1rem -- option labels
   0.9rem -- button text (book now, toggles)
   0.875rem -- time labels, booking block info
   0.8rem -- section titles, today badge, hints, mono in buttons, timezone mobile
   0.75rem -- option keys, cancel/close keys, booking block cancel hint
   0.7rem -- time cells in week view, done/delete/close keys, day name in week view

   **Font Weights:**
   700 -- panel/popup time, day date, today badge
   600 -- header title, button text, section titles, popup title, day name
   500 -- date text, toggle text, time labels, option labels, booking block info

3. **Spacing System:**
   Document all distinct padding, margin, and gap values found across CSS files in a table. Group by usage (component padding, element gaps, section spacing).

   Key values: 4px, 6px, 8px, 10px, 12px, 14px, 16px, 18px, 20px, 24px, 28px, 32px

4. **Timing Tokens:**
   | Token | Value | Usage | Source |
   |-------|-------|-------|--------|
   | --transition-fast | 150ms ease-out | Button hovers, slot state changes, text color | index.css:61 |
   | --transition-medium | 300ms ease-out | Panel slide-in, content transitions | index.css:62 |

   Also document non-token animation durations found in component CSS:
   - pulse-glow: 2s ease-in-out infinite (Header.css:57)
   - glowPulse: 0.6s ease-out (TimeSlot.css:91-98)
   - keyboardFocusPulse: 1.5s ease-in-out infinite (TimeSlot.css:119)
   - fadeIn: 0.15s ease-out (BookingPopup.css:41)
   - popupSlideIn: 0.2s ease-out (BookingPopup.css:50)
   - slideIn (panel content): 0.3s ease-out with staggered delays (BookingPanel.css:156-177)
   - slideInDay: 0.4s ease-out (WeekView.css:53)

5. **Border Radius Values:**
   Document all distinct border-radius values: 2px (title underline), 4px (scrollbar), 5px (week slots), 6px (kbd), 8px (buttons, time slots, column headers), 10px (booking blocks), 12px (nav buttons, option buttons, panel section, current day bg), 16px (time strip, popup, week grid)

6. **Box Shadow Patterns:**
   Document the distinct shadow patterns used (glow shadows for interactive elements, depth shadows for elevated containers, inset shadows for glass effects). Provide the exact values and where each is used.

**Every value must have a CSS source reference.** Format: "Source: filename.css:line"

**Include the background gradient definition:**
linear-gradient(135deg, #0a1628 0%, #0f1d32 50%, #0a1628 100%) with background-attachment: fixed
  </action>
  <verify>
Verify the document:
1. Count CSS custom property entries -- must cover all 30+ properties from index.css :root
2. Grep for "user-1" through "user-6" -- all 6 user colors documented
3. Grep for "Source:" -- must have at least 20 source references
4. Check typography section has both font families documented
5. Check timing section covers both CSS tokens and keyframe animations
6. Verify line count is >= 150 lines
  </verify>
  <done>
DESIGN-TOKENS.md exists with: complete color system (backgrounds, accents, slots, users, text, borders, glass), typography system (families, sizes, weights), spacing system, timing tokens (transitions + animation durations), border radius values, box shadow patterns, and background gradient -- all with CSS source file references.
  </done>
</task>

</tasks>

<verification>
Phase 7 Plan 01 verification:
1. Both LAYOUT-STRUCTURE.md and DESIGN-TOKENS.md exist in the phase directory
2. Layout doc has component hierarchy tree, 5 layout regions, day/week views, overlay system
3. Design tokens doc covers all CSS custom properties from index.css
4. Both docs reference Phase 5 screenshots and Phase 6 CSS source files
5. No React-specific implementation details (technology-neutral descriptions)
6. All color values include hex, RGB, and usage context
7. All values have CSS source file:line references
</verification>

<success_criteria>
- LAYOUT-STRUCTURE.md >= 100 lines with complete spatial hierarchy
- DESIGN-TOKENS.md >= 150 lines with every CSS custom property extracted
- Both docs are technology-neutral (describe WHAT, not React HOW)
- Every claim is traceable to a CSS source or screenshot
- A Rails developer reading these two docs knows WHERE everything goes and WHAT visual values to use
</success_criteria>

<output>
After completion, create `.planning/phases/07-ui-ux-documentation/07-01-SUMMARY.md`
</output>
