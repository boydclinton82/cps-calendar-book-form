---
phase: 07-ui-ux-documentation
plan: 02
type: execute
wave: 2
depends_on: ["07-01"]
files_modified:
  - .planning/phases/07-ui-ux-documentation/COMPONENT-STATES.md
  - .planning/phases/07-ui-ux-documentation/ANIMATIONS.md
autonomous: true

must_haves:
  truths:
    - "Every interactive element has a state matrix documenting all possible visual states (default, hover, focus, active, disabled, selected)"
    - "Time slot states are fully documented: available, available:hover, selected, occupied, past, keyboard-focused, just-booked"
    - "Booking panel and popup option buttons documented: default, hover, selected, disabled"
    - "Header buttons documented: Book Now (default, hover, hidden), Week Toggle (default, hover, active), Timezone Toggle (default, hover, active)"
    - "All CSS animations documented with trigger, duration, easing, keyframes, and property changes"
    - "Booking block user colors documented across all 6 positions with default, hover, and focus states"
  artifacts:
    - path: ".planning/phases/07-ui-ux-documentation/COMPONENT-STATES.md"
      provides: "Complete state matrix for every interactive element in the booking form"
      min_lines: 200
    - path: ".planning/phases/07-ui-ux-documentation/ANIMATIONS.md"
      provides: "All CSS animations and transitions with timing, easing, and keyframe definitions"
      min_lines: 100
  key_links:
    - from: "COMPONENT-STATES.md"
      to: "DESIGN-TOKENS.md"
      via: "Token name references for colors and timing"
      pattern: "--accent|--available|--booked"
    - from: "COMPONENT-STATES.md"
      to: "Phase 5 screenshots"
      via: "Screenshot references for each visual state"
      pattern: "screenshots/"
    - from: "ANIMATIONS.md"
      to: "Component CSS files"
      via: "@keyframes extraction"
      pattern: "@keyframes"
---

<objective>
Document all interactive element states and all CSS animations/transitions for the booking form.

Purpose: Component states tell the Rails developer HOW each element looks and behaves in every possible interaction state. Animations tell them WHAT moves, HOW FAST, and WHAT CHANGES. These two docs cover UIUX-03 (interactive elements) and UIUX-04 (animations/transitions).

Output: COMPONENT-STATES.md and ANIMATIONS.md in the phase directory.
</objective>

<execution_context>
@/Users/clintonweekes/.claude/get-shit-done/workflows/execute-plan.md
@/Users/clintonweekes/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-ui-ux-documentation/07-RESEARCH.md
@.planning/phases/07-ui-ux-documentation/07-01-SUMMARY.md
@.planning/phases/05-visual-capture/SCREENSHOT-MANIFEST.md
@.planning/phases/06-code-extraction/FILE-MANIFEST.md
@.planning/phases/06-code-extraction/extracted-code/src/index.css
@.planning/phases/06-code-extraction/extracted-code/src/components/TimeSlot.css
@.planning/phases/06-code-extraction/extracted-code/src/components/Header.css
@.planning/phases/06-code-extraction/extracted-code/src/components/BookingPanel.css
@.planning/phases/06-code-extraction/extracted-code/src/components/BookingPopup.css
@.planning/phases/06-code-extraction/extracted-code/src/components/BookingBlock.css
@.planning/phases/06-code-extraction/extracted-code/src/components/WeekView.css
@.planning/phases/06-code-extraction/extracted-code/src/components/TimeStrip.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create COMPONENT-STATES.md</name>
  <files>.planning/phases/07-ui-ux-documentation/COMPONENT-STATES.md</files>
  <action>
Create an exhaustive component state specification documenting every possible visual state for every interactive element. Use state matrix tables following the pattern from 07-RESEARCH.md.

**Document structure:**

1. **Time Slot States** (the most complex component -- 7 states):

   | State | CSS Class | Trigger | Background | Border | Box-Shadow | Opacity | Cursor | Behavior | Screenshot | Source |
   Document these states:
   - **Available**: `.available` -- bookable slot, cyan border with glow, pointer cursor. Source: TimeSlot.css:19-27
   - **Available:hover**: `.available:hover` -- brighter background, stronger glow, translateY(-1px). Source: TimeSlot.css:29-37
   - **Selected**: `.selected` -- intense cyan glow, 2px border, multiple layered box-shadows. Source: TimeSlot.css:40-49
   - **Occupied**: `.occupied` -- transparent bg, hidden time label, pointer-events:none (overlay shows booking block instead). Source: TimeSlot.css:52-57
   - **Past**: `.past` -- opacity 0.35, not-allowed cursor, muted background. Source: TimeSlot.css:60-65
   - **Keyboard-focused**: `.keyboard-focused` -- gold/amber border (#fbbf24), pulsing animation, gold time label. Source: TimeSlot.css:105-130. Note: NOT captured in screenshots -- document from CSS only.
   - **Just-booked**: `.just-booked` -- brief confirmation pulse (glowPulse 0.6s), applied momentarily after booking. Source: TimeSlot.css:91-102

   Also document time label color changes per state:
   - Default: rgba(140, 170, 200, 0.9) -- TimeSlot.css:71
   - Available: var(--accent) -- TimeSlot.css:76
   - Available:hover / Selected: var(--accent) + text-shadow -- TimeSlot.css:80-83
   - Occupied: visibility:hidden -- TimeSlot.css:87
   - Keyboard-focused: #fbbf24 + gold text-shadow -- TimeSlot.css:114-117

2. **Book Now Button States** (3 states):
   - **Visible (default)**: Cyan bg, pulsing glow animation, dark text. Source: Header.css:41-55
   - **Visible:hover**: Brighter cyan (#00ffff), scale(1.05), stronger glow, animation paused. Source: Header.css:66-71
   - **Hidden**: Not rendered when current hour unavailable/past/booked. No CSS state -- conditional rendering.
   Screenshot: 04-book-now-button/001-book-now-visible.png

3. **Week Toggle Button States** (3 states):
   - **Default (inactive)**: Transparent bg, cyan border/text, subtle glow. Source: Header.css:78-91
   - **Default:hover**: Cyan tinted bg rgba(0,229,229,0.1), stronger glow. Source: Header.css:93-96
   - **Active (week view on)**: Cyan bg, dark text, strong glow. Source: Header.css:98-102

4. **Timezone Toggle Button States** (3 states):
   - **Default (QLD)**: Same styling as week toggle default. Source: Header.css:109-121
   - **Default:hover**: Same hover pattern. Source: Header.css:123-126
   - **Active (NSW)**: Same active pattern. Source: Header.css:129-133
   Screenshot: 05-timezone-toggle/001-qld-default.png, 002-nsw-active.png

5. **Navigation Buttons** (prev/next day/week):
   - **Default**: Cyan bg, 48x48px, 12px border-radius, dark text. Source: Header.css:148-161
   - **Hover**: Brighter cyan, scale(1.08), stronger glow. Source: Header.css:163-167
   - **Active (pressed)**: scale(0.98) press-down effect. Source: Header.css:169-171

6. **Booking Panel Option Buttons** (user selection + duration selection):
   - **Default**: Dark bg (--bg-tertiary), transparent border. Source: BookingPanel.css:68-79
   - **Hover**: Cyan tinted bg, glow border, translateX(4px) indent. Source: BookingPanel.css:81-85
   - **Selected**: Cyan bg, dark text, glow shadow. Source: BookingPanel.css:87-92
   - **Disabled**: opacity 0.35, not-allowed cursor. Source: BookingPanel.css:99-101
   Screenshot: 03-booking-flow/001-panel-open-slot-selected.png through 003-duration-options-visible.png

7. **Booking Panel Cancel Button**:
   - **Default**: Transparent bg, subtle border, secondary text. Source: BookingPanel.css:120-133
   - **Hover**: Red-tinted bg, red border, red text (#f87171). Source: BookingPanel.css:135-139

8. **Booking Popup Buttons** (Done, Delete, Close):
   - **Done button default**: Cyan bg, cyan border, dark text, glow. Source: BookingPopup.css:162-176
   - **Done button hover**: Scale(1.02), stronger glow. Source: BookingPopup.css:178-183
   - **Delete button default**: Red-tinted bg, red border, red text. Source: BookingPopup.css:191-203
   - **Delete button hover**: Stronger red bg/border, red glow, scale(1.02). Source: BookingPopup.css:205-210
   - **Close button default**: Transparent bg, subtle border. Source: BookingPopup.css:218-231
   - **Close button hover**: Cyan tinted bg, glow border. Source: BookingPopup.css:233-236

9. **Booking Block States** (per-user colored overlays on booked slots):
   Document the pattern (same structure repeated for 6 user positions):
   - **Default**: User-colored bg at 35% opacity, user-colored border at 60%, user-colored glow. Monospace text in user color.
   - **Hover**: Lower bg opacity (18%), stronger border (80%), stronger glow, translateY(-1px). Cancel hint fades in (opacity 0 -> 1).
   - **Focus**: User-colored outline, 2px solid at 60% opacity, 2px offset.
   Source: BookingBlock.css (entire file, pattern repeats for user-1 through user-6)
   Screenshot: 02-slot-states/002-slot-booked-and-blocked.png, 005-multi-hour-booking-block.png

10. **Week View Column Headers**:
    - **Default**: Dark bg (--bg-tertiary), transparent border. Source: WeekView.css:87-98
    - **Hover**: Cyan tinted bg, glow border. Source: WeekView.css:104-107
    - **Today**: Cyan bg, dark text, glow shadow. Source: WeekView.css:109-117
    Source: WeekView.css:87-117

11. **Week View Slot States** (simplified version of day view slots):
    - **Available**: Subtle dark bg, faint cyan border. Source: WeekView.css:142-145
    - **Available:hover**: Cyan border, cyan bg, glow. Source: WeekView.css:151-155
    - **Occupied**: Transparent (overlay shows block). Source: WeekView.css:158-161
    - **Past**: Muted bg, 0.4 opacity. Source: WeekView.css:163-166

**For EVERY state entry, include:**
- CSS class name or selector
- What triggers the state change
- All visual property values (background, border, box-shadow, opacity, transform, cursor)
- CSS source file and line numbers
- Screenshot reference (or "Not captured" with CSS-only note)

Reference design token names from DESIGN-TOKENS.md (created in Plan 01) where applicable. Use var(--token-name) notation.
  </action>
  <verify>
Verify the document:
1. Count distinct components documented -- must be >= 10 (time slot, book now, week toggle, timezone toggle, nav buttons, panel options, cancel button, popup buttons x3, booking block, week headers, week slots)
2. Count total states documented across all components -- must be >= 35
3. Grep for "Source:" -- must have >= 30 CSS source references
4. Grep for "Screenshot:" or "screenshots/" -- must have >= 8 screenshot references
5. Grep for "opacity.*0.35" -- must document disabled states
6. Grep for "keyboard-focused" -- must document keyboard focus state
7. Verify line count >= 200 lines
  </verify>
  <done>
COMPONENT-STATES.md exists with state matrices for every interactive element (time slots with 7 states, header buttons, panel buttons, popup buttons, booking blocks with per-user colors, week view elements). Each state has: trigger, visual property values, CSS source reference, and screenshot reference where available. Total: 10+ components, 35+ states documented.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create ANIMATIONS.md</name>
  <files>.planning/phases/07-ui-ux-documentation/ANIMATIONS.md</files>
  <action>
Create a complete animation and transition specification documenting every motion in the booking form.

**Document structure:**

1. **CSS Transition Tokens** -- The two global transition presets:
   - `--transition-fast`: 150ms ease-out -- Used for: button hovers, slot state changes, text color changes, border changes
   - `--transition-medium`: 300ms ease-out -- Used for: panel slide-in, content appearance

   List every element that uses each token (scan all CSS files for references).

2. **Keyframe Animations** -- Document each @keyframes definition:

   **pulse-glow (Book Now button pulse)**
   - Trigger: Book Now button is visible (current hour available)
   - Duration: 2s, ease-in-out, infinite
   - Properties: box-shadow intensity oscillates
   - Keyframes:
     - 0%, 100%: box-shadow: 0 0 16px var(--accent-glow-strong), inset 0 0 12px rgba(255,255,255,0.1)
     - 50%: box-shadow: 0 0 24px var(--accent-glow-strong), 0 0 32px var(--accent-glow), inset 0 0 16px rgba(255,255,255,0.15)
   - Pause condition: Stops on hover (animation: none)
   - Purpose: Draws attention to quick booking option
   - Source: Header.css:57-64
   - Screenshot: 04-book-now-button/001-book-now-visible.png (static frame only)

   **glowPulse (booking confirmation)**
   - Trigger: Slot just received a new booking
   - Duration: 0.6s, ease-out, single play
   - Properties: box-shadow pulse from 0 to strong cyan glow
   - Keyframes:
     - 0%, 100%: box-shadow: 0 0 0 0 var(--accent-glow)
     - 50%: box-shadow: 0 0 30px var(--accent-glow-strong)
   - Purpose: Visual confirmation that booking was created
   - Source: TimeSlot.css:91-102

   **keyboardFocusPulse (keyboard navigation indicator)**
   - Trigger: Time slot has keyboard focus
   - Duration: 1.5s, ease-in-out, infinite
   - Properties: box-shadow and outline intensity oscillates (gold/amber)
   - Keyframes:
     - 0%, 100%: 0 0 0 3px rgba(251,191,36,0.3), 0 0 16px rgba(251,191,36,0.4)
     - 50%: 0 0 0 4px rgba(251,191,36,0.5), 0 0 24px rgba(251,191,36,0.6)
   - Purpose: Indicates keyboard focus position, distinct from cyan selection
   - Source: TimeSlot.css:119-130

   **fadeIn (popup overlay backdrop)**
   - Trigger: Popup opens (click on existing booking)
   - Duration: 0.15s, ease-out, single play
   - Properties: opacity 0 -> 1
   - Purpose: Smooth backdrop appearance, prevents jarring overlay
   - Source: BookingPopup.css:41-48

   **popupSlideIn (popup content entrance)**
   - Trigger: Popup opens (paired with fadeIn)
   - Duration: 0.2s, ease-out, single play
   - Properties: opacity 0 -> 1, translateY(-48%) -> translateY(-50%)
   - Purpose: Subtle upward slide gives popup a "rising into place" feel
   - Source: BookingPopup.css:50-59

   **slideIn (panel content stagger)**
   - Trigger: Booking panel opens
   - Duration: 0.3s, ease-out, single play with staggered delays
   - Properties: opacity 0 -> 1, translateX(20px) -> translateX(0)
   - Stagger: Each .panel-section delayed by 0.05s (2nd at 0.05s, 3rd at 0.1s)
   - Purpose: Cascading content reveal gives panel depth and polish
   - Source: BookingPanel.css:155-177

   **slideInDay (week view column entrance)**
   - Trigger: Week view loads or transitions
   - Duration: 0.4s, ease-out, single play with per-column delay
   - Properties: opacity 0 -> 1, translateX(20px) -> translateX(0)
   - Stagger: Each day column has CSS custom property --delay for sequential reveal
   - Purpose: Left-to-right cascade makes week grid feel dynamic
   - Source: WeekView.css:53-62

3. **Transition Behaviors** (non-keyframe animations):

   **Panel slide-in/out:**
   - Property: transform (translateX(100%) to translateX(0))
   - Duration: var(--transition-medium) = 300ms ease-out
   - Source: BookingPanel.css:17-18, 23-24

   **Button hover transforms:**
   - Book Now: scale(1.05) on hover. Source: Header.css:68
   - Nav buttons: scale(1.08) on hover, scale(0.98) on active. Source: Header.css:165, 170
   - Option buttons: translateX(4px) on hover. Source: BookingPanel.css:84
   - Done/Delete buttons: scale(1.02) on hover. Source: BookingPopup.css:181, 209
   - Available slot: translateY(-1px) on hover. Source: TimeSlot.css:36
   - Booking block: translateY(-1px) on hover. Source: BookingBlock.css:39 (etc.)

   **Opacity transitions:**
   - Booking block cancel hint: opacity 0 -> 1 on hover. Source: BookingBlock.css:235-242

4. **Animation Summary Table:**
   | Animation | Duration | Easing | Loop | Trigger | Component | Source |
   Compile all animations into a single reference table.

5. **Glass Morphism Effects** (visual effects, not animations per se, but feel like motion):
   - backdrop-filter: blur(20px) on BookingPanel and BookingPopup
   - backdrop-filter: blur(12px) on header hints bar
   - backdrop-filter: blur(4px) on popup overlay backdrop
   - backdrop-filter: blur(16px) on week grid
   Source references for each.

**Every animation must include:** trigger condition, duration, easing, property changes, keyframe values (if applicable), purpose, CSS source file:line.
  </action>
  <verify>
Verify the document:
1. Count @keyframes documented -- must be >= 6 (pulse-glow, glowPulse, keyboardFocusPulse, fadeIn, popupSlideIn, slideIn, slideInDay)
2. Grep for "Duration:" -- must appear >= 7 times
3. Grep for "Source:" -- must have >= 15 source references
4. Grep for "ease" -- must document easing functions
5. Grep for "backdrop-filter" -- must document glass effects
6. Verify line count >= 100 lines
  </verify>
  <done>
ANIMATIONS.md exists with: all 7 @keyframes animations fully specified (trigger, duration, easing, keyframes, purpose), all transition behaviors (panel slide, button transforms, opacity fades), glass morphism effects, and a summary reference table. Every animation has CSS source references.
  </done>
</task>

</tasks>

<verification>
Phase 7 Plan 02 verification:
1. COMPONENT-STATES.md and ANIMATIONS.md exist in the phase directory
2. Component states covers 10+ distinct interactive elements with 35+ total states
3. Every state has CSS source reference and visual property values
4. Animations doc covers all 7 @keyframes definitions found in CSS
5. Transition behaviors documented for all hover/active transforms
6. Both docs are technology-neutral (no React-specific language)
7. Both docs reference Phase 5 screenshots where applicable
8. Design token names (var(--name)) used consistently
</verification>

<success_criteria>
- COMPONENT-STATES.md >= 200 lines with complete state matrices for every interactive element
- ANIMATIONS.md >= 100 lines with every animation and transition documented
- Both docs are technology-neutral
- Every state/animation traceable to CSS source file and line number
- A Rails developer reading these docs knows exactly what each element looks like in every state and how it moves
</success_criteria>

<output>
After completion, create `.planning/phases/07-ui-ux-documentation/07-02-SUMMARY.md`
</output>
