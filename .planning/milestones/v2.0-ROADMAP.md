# Milestone v2.0: Booking Spec Package

**Status:** SHIPPED 2026-02-13
**Phases:** 5-10
**Total Plans:** 16

## Overview

Create an exhaustive specification package enabling Claude Code to perfectly recreate the booking form in Rails. Visual capture of every state/interaction, clean reference code, blueprint-level specs (UI, UX, architecture, functionality, edge cases), and master SPEC.md as AI-consumable entry point.

## Phases

### Phase 5: Visual Capture

**Goal**: Every visual state and interaction captured from the deployed booking form
**Depends on**: Nothing (starts v2.0)
**Plans**: 2 plans

Plans:
- [x] 05-01: Setup Playwright/Sharp, capture all raw screenshots (VCAP-01 through VCAP-07)
- [x] 05-02: Annotate screenshots with labels, create manifest (VCAP-08)

**Details:**
Requirements covered: VCAP-01, VCAP-02, VCAP-03, VCAP-04, VCAP-05, VCAP-06, VCAP-07, VCAP-08
Deliverables: 20 raw screenshots + 20 annotated screenshots across 6 categories
Tools added: Playwright, Sharp

### Phase 6: Code Extraction

**Goal**: Clean reference code extracted from React implementation and documented
**Depends on**: Nothing (can run parallel with Phase 5)
**Plans**: 3 plans

Plans:
- [x] 06-01: Extract clean source files with dead code removal and dependency graph (CODE-01)
- [x] 06-02: Create FILE-MANIFEST.md documenting all files, functions, and data structures (CODE-02)
- [x] 06-03: Add technology-neutral inline annotations to key logic files (CODE-03)

**Details:**
Requirements covered: CODE-01, CODE-02, CODE-03
Deliverables: 39 extracted source files, DEPENDENCIES.json, FILE-MANIFEST.md, annotated code
Tools added: Knip, madge

### Phase 7: UI/UX Documentation

**Goal**: Complete interface specification documented from visual captures and code
**Depends on**: Phase 5 (visual captures) and Phase 6 (code extraction)
**Plans**: 3 plans

Plans:
- [x] 07-01: Layout structure hierarchy and design token reference (UIUX-01, UIUX-02)
- [x] 07-02: Component state matrices and animation specifications (UIUX-03, UIUX-04)
- [x] 07-03: Keyboard shortcuts and responsive behavior (UIUX-05, UIUX-06)

**Details:**
Requirements covered: UIUX-01, UIUX-02, UIUX-03, UIUX-04, UIUX-05, UIUX-06
Deliverables: LAYOUT-STRUCTURE.md, DESIGN-TOKENS.md, COMPONENT-STATES.md, ANIMATIONS.md, KEYBOARD-SHORTCUTS.md, RESPONSIVE-BEHAVIOR.md

### Phase 8: Architecture Documentation

**Goal**: System internals and data flows documented for Rails reimplementation
**Depends on**: Phase 6 (code extraction)
**Plans**: 3 plans

Plans:
- [x] 08-01: Data storage schema and instance configuration (ARCH-01, ARCH-05)
- [x] 08-02: API endpoint contracts with validation and error handling (ARCH-02)
- [x] 08-03: Polling sync mechanism and application state management (ARCH-03, ARCH-04)

**Details:**
Requirements covered: ARCH-01, ARCH-02, ARCH-03, ARCH-04, ARCH-05
Deliverables: DATA-STORAGE.md, INSTANCE-CONFIG.md, API-CONTRACTS.md, POLLING-SYNC.md, STATE-MANAGEMENT.md

### Phase 9: Functional Documentation

**Goal**: All behaviors and edge cases documented as technology-neutral specifications
**Depends on**: Phase 5 (visual captures), Phase 6 (code extraction), and Phase 8 (architecture)
**Plans**: 3 plans

Plans:
- [x] 09-01: Complete booking lifecycle specification with decision tables and state machines (FUNC-01)
- [x] 09-02: Book Now feature and timezone toggle specifications (FUNC-02, FUNC-03)
- [x] 09-03: Time/date handling and comprehensive edge case catalog (FUNC-04, FUNC-05)

**Details:**
Requirements covered: FUNC-01, FUNC-02, FUNC-03, FUNC-04, FUNC-05
Deliverables: BOOKING-FLOW.md (154 decision table rows), BOOK-NOW-FEATURE.md, TIMEZONE-TOGGLE.md, EDGE-CASES.md (31 cases), TIME-DATE-HANDLING.md

### Phase 10: Master Spec Assembly

**Goal**: AI-consumable specification package complete and ready for Rails Claude
**Depends on**: Phase 7 (UI/UX docs), Phase 8 (architecture docs), and Phase 9 (functional docs)
**Plans**: 2 plans

Plans:
- [x] 10-01: Create SYSTEM-SUMMARY.md and SPEC.md (SPEC-01, SPEC-02, SPEC-03)
- [x] 10-02: Human verification of complete specification package

**Details:**
Requirements covered: SPEC-01, SPEC-02, SPEC-03
Deliverables: SPEC.md (master entry point with 8 build milestones), SYSTEM-SUMMARY.md (technology-neutral overview)

---

## Milestone Summary

**Key Decisions:**
- Blueprint spec depth: AI consumer requires exhaustive detail for "perfect" recreation
- Live + code approach: Screenshots capture visual truth; code reveals logic screenshots can't
- Technology-neutral behavior specs: Rails differs from React; behavior transfers, patterns don't
- Hybrid documentation: Workflow narratives + decision tables + state machines + Given-When-Then scenarios
- Layered context delivery: SPEC.md -> SYSTEM-SUMMARY.md -> Phase-specific specs prevents context overload
- Milestone-based build instructions: 8 dependency-ordered milestones (data -> API -> logic -> UI)
- Three-tier boundary system: Always Do / Ask First / Never Do for Rails Claude autonomy

**Issues Resolved:**
- Dead code mixed with live code in source repo (solved by Knip/madge extraction)
- React-specific patterns that don't transfer to Rails (solved by technology-neutral spec language)
- AI context overload from large spec (solved by layered SPEC.md -> SYSTEM-SUMMARY.md -> details)

**Issues Deferred:**
- Admin app specification (separate milestone)
- Dual/eureka version specification (different architecture)

**Technical Debt Incurred:**
- None. All phases delivered complete deliverables with no deferred items.

---

_For current project status, see .planning/ROADMAP.md_

---
*Archived: 2026-02-13 as part of v2.0 milestone completion*
